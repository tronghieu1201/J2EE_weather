<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lịch Vạn Niên</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body class="bg-light text-dark py-4">
<div class="container bg-white p-4 rounded-3 shadow-sm">

        <div class="d-flex justify-content-between align-items-center mb-4">
            <button id="prevMonthBtn" class="btn btn-outline-secondary">&lt; Tháng trước</button>
            <h2 id="currentMonthYear" class="my-3"></h2>
            <button id="nextMonthBtn" class="btn btn-outline-secondary">Tháng sau &gt;</button>
        </div>
        <div class="row row-cols-7 g-1 text-center" id="calendarGrid">
            <div class="col fw-bold p-2 bg-light rounded-2">CN</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T2</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T3</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T4</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T5</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T6</div>
            <div class="col fw-bold p-2 bg-light rounded-2">T7</div>
            <!-- Calendar days will be dynamically generated here -->
        </div>
        <div class="text-center mt-4">
            <p>Thông tin chi tiết về ngày âm lịch, giờ hoàng đạo, hắc đạo sẽ được hiển thị khi chọn ngày.</p>
        </div>
</div>

<script>
    let currentMonth = new Date().getMonth();
    let currentYear = new Date().getFullYear();

    const calendarGrid = document.getElementById('calendarGrid');
            const currentMonthYearHeader = document.getElementById('currentMonthYear');
            const prevMonthBtn = document.getElementById('prevMonthBtn');
            const nextMonthBtn = document.getElementById('nextMonthBtn');
    
            const monthNames = ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6",
                                "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"];
            const dayNames = ["CN", "T2", "T3", "T4", "T5", "T6", "T7"]; // Sunday, Monday...Saturday
    
            function renderCalendar(year, month) {
                // Clear previous days, but keep day headers
                const dayHeaders = Array.from(calendarGrid.children).filter(child => child.classList.contains('col') && child.textContent.length < 5); // Assuming day headers are short text
                calendarGrid.innerHTML = '';
                dayHeaders.forEach(header => calendarGrid.appendChild(header));
                
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const numDays = lastDay.getDate();
                const startDayOfWeek = firstDay.getDay(); // 0 for Sunday, 1 for Monday, etc.
    
                currentMonthYearHeader.textContent = `${monthNames[month]}, ${year}`;
    
                // Fill leading empty days
                for (let i = 0; i < startDayOfWeek; i++) {
                    const emptyDiv = document.createElement('div');
                    emptyDiv.classList.add('col', 'p-3', 'border', 'rounded-2', 'bg-light'); // Use Bootstrap col and styling
                    calendarGrid.appendChild(emptyDiv);
                }
    
                // Fill days of the month
                for (let day = 1; day <= numDays; day++) {
                    const dayDiv = document.createElement('div');
                    dayDiv.classList.add('col', 'p-3', 'border', 'rounded-2', 'position-relative'); // Bootstrap col and styling
                    if (day === new Date().getDate() && month === new Date().getMonth() && year === new Date().getFullYear()) {
                        dayDiv.classList.add('bg-primary', 'text-white', 'border-primary'); // Bootstrap classes for today
                    }
    
                    const dayNumber = document.createElement('div');
                    dayNumber.classList.add('day-number', 'fs-5', 'fw-bold', 'mb-2');
                    dayNumber.textContent = day;
                    dayDiv.appendChild(dayNumber);
    
                    // Placeholder for lunar date (requires a more complex library or API)
                    const lunarDate = document.createElement('div');
                    lunarDate.classList.add('lunar-date', 'small', 'text-muted');
                    lunarDate.textContent = 'ÂL'; // Placeholder
                    dayDiv.appendChild(lunarDate);
    
                    // Add click event for interaction (e.g., show details for the day)
                    dayDiv.addEventListener('click', () => {
                        alert(`Bạn đã chọn ngày: ${day}/${month + 1}/${year}. (Chức năng chi tiết sẽ được phát triển)`);
                        // Here you would typically fetch and display detailed info for the selected day
                    });
    
                    calendarGrid.appendChild(dayDiv);
                }    }

    function changeMonth(delta) {
        currentMonth += delta;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        } else if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        renderCalendar(currentYear, currentMonth);
    }

    // Event Listeners
    prevMonthBtn.addEventListener('click', () => changeMonth(-1));
    nextMonthBtn.addEventListener('click', () => changeMonth(1));

    // Initial render
    renderCalendar(currentYear, currentMonth);
</script>
</body>
</html>